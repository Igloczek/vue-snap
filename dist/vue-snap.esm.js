import{elementScrollBy as e}from"seamless-scroll-polyfill/dist/esm/Element.scrollBy";import"core-js/modules/es.array.find-index";import"core-js/modules/es.array.map";import{ref as r,watch as n,onMounted as t,onBeforeUnmount as o,openBlock as l,createBlock as a,createVNode as u,createCommentVNode as i,renderSlot as s,withDirectives as d,vShow as f}from"vue";import v from"lodash/debounce";var c=function(e,r,n){return Math.abs(e-r)<=n},m="undefined"==typeof window,p=!m;function b(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,r){if(!e)return;if("string"==typeof e)return h(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,r)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}m||"scrollBehavior"in document.documentElement.style||e();var y={name:"Carousel",props:{hideArrows:{type:Boolean,default:!1},hideArrowsOnBound:{type:Boolean,default:!1}},setup:function(e,l){var a=l.emit,u=r(null),i=r(!0),s=r(!1),d=r([]),f=r(0),m=r(0),h=r(0),y=r(0),w=r(0),S=r(null),_=r(null);n(h,(function(e,r){e!==r&&a("page",{current:e,previous:r})}));var g=function(){var e=c(y.value,0,5),r=c(f.value-m.value,y.value,5);e?(a("bound-left",!0),i.value=!0):i.value=!1,r?(a("bound-right",!0),s.value=!0):s.value=!1},A=function(){var e=d.value.findIndex((function(e){return c(e.offsetLeft,y.value,5)}));-1!==e&&-2!==e&&(h.value=e||0)},L=function(){y.value=u.value.scrollLeft||0},B=function(){var e;u.value&&(f.value=u.value.scrollWidth,m.value=u.value.offsetWidth,d.value=b(u.value.children).map((function(e){return{offsetLeft:e.offsetLeft,width:e.offsetWidth}})),L(),A(),g(),e=f.value-m.value,w.value=d.value.findIndex((function(r){return r.offsetLeft>e}))-1)},C=function(){u.value&&(L(),A(),g())};return t((function(){B(),p&&(_.value=v(C,100),S.value=v(B,410),u.value.addEventListener("scroll",_.value),window.addEventListener("resize",S.value))})),o((function(){p&&(u.value.removeEventListener("scroll",_.value),window.removeEventListener("resize",S.value))})),{boundLeft:i,boundRight:s,changeSlide:function(e){var r=function(e){var r=e>0?h.value:h.value+e,n=d.value[r].width||0;if(n)return n*e}(e);r&&u.value.scrollBy({left:r,behavior:"smooth"})},vsWrapper:u}}};const w={class:"vs-carousel"},S={ref:"vsWrapper",class:"vs-carousel__wrapper"};y.render=function(e,r,n,t,o,v){return l(),a("div",w,[u("div",S,[i(" @slot Slot for Slides "),s(e.$slots,"default")],512),i(" @slot Slot for Arrows "),e.hideArrows?i("v-if",!0):s(e.$slots,"arrows",{key:0},()=>[e.hideArrowsOnBound&&t.boundLeft?i("v-if",!0):(l(),a("button",{key:0,type:"button","aria-label":"Slide left",disabled:t.boundLeft,class:"\n          vs-carousel__arrows\n          vs-carousel__arrows--left\n        ",onClick:r[1]||(r[1]=e=>t.changeSlide(-1))}," ← ",8,["disabled"])),d(u("button",{type:"button","aria-label":"Slide right",disabled:t.boundRight,class:"\n          vs-carousel__arrows\n          vs-carousel__arrows--right\n        ",onClick:r[2]||(r[2]=e=>t.changeSlide(1))}," → ",8,["disabled"]),[[f,!e.hideArrowsOnBound||!t.boundRight]])])])},y.__file="src/components/Carousel/Carousel.vue";var _={name:"Slide"};const g={ref:"vsSlide",class:"vs-carousel__slide",tabindex:"0"};_.render=function(e,r,n,t,o,u){return l(),a("div",g,[s(e.$slots,"default")],512)},_.__file="src/components/Slide/Slide.vue";var A={install:function(e){e.component("carousel",y),e.component("slide",_)}};export default A;export{y as Carousel,_ as Slide};
